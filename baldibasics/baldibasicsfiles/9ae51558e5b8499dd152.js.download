(window.webpackJsonp=window.webpackJsonp||[]).push([[29,33],{268:function(e,t,n){var content=n(276);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(194).default)("39f39c88",content,!0,{sourceMap:!1})},275:function(e,t,n){"use strict";n(268)},276:function(e,t,n){var o=n(193)(!1);o.push([e.i,"#ima{position:absolute;top:0;left:0;margin:0 auto;z-index:9999}",""]),e.exports=o},281:function(e,t,n){"use strict";n.r(t);n(62);var o={data:function(){return{imaLoaded:!1}},methods:{play:function(){this.$emit("is_shown")},set_cookie:function(){this.$cookies.set("afg",1,{path:"/",maxAge:3600})},runAds:function(){var e,t,n,o,r,l,d=this,c="skippablevideo_image_text",m="ima",f=document.location,h="";function v(b){var a=new google.ima.AdsRenderingSettings;a.restoreCustomPlaybackStateOnAdBreakComplete=!0,(e=b.getAdsManager(n,a)).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,E),e.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,_),e.addEventListener(google.ima.AdEvent.Type.LOADED,_),e.addEventListener(google.ima.AdEvent.Type.STARTED,_),e.addEventListener(google.ima.AdEvent.Type.COMPLETE,_),e.addEventListener(google.ima.AdEvent.Type.SKIPPED,_),e.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,_),setTimeout((function(){!function(){n.initialize();try{e.init(r,l,google.ima.ViewMode.NORMAL),e.start()}catch(e){}}()}),0)}function _(a){var b=a.getAd();switch(a.type){case google.ima.AdEvent.Type.LOADED:b.isLinear();break;case google.ima.AdEvent.Type.STARTED:b.isLinear()&&(o=setInterval((function(){e.getRemainingTime()}),300));break;case google.ima.AdEvent.Type.USER_CLOSE:case google.ima.AdEvent.Type.SKIPPED:case google.ima.AdEvent.Type.COMPLETE:b.isLinear()&&clearInterval(o),w()}}function E(a){console.log(a.getError()),w()}function w(){e&&e.destroy(),document.getElementById(m).outerHTML="",d.play()}r=document.getElementById("ima").clientWidth,l=document.getElementById("ima").clientHeight,h=document.documentElement.lang,function(){if("undefined"==typeof google||(n=new google.ima.AdDisplayContainer(document.getElementById(m)),d.$cookies.get("afg")||d.set_cookie(),0))return document.getElementById(m).outerHTML="",void d.play();(t=new google.ima.AdsLoader(n)).addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,v,!1),t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,E,!1);var a=new google.ima.AdsRequest;a.adTagUrl="https://googleads.g.doubleclick.net/pagead/ads?ad_type="+c+"&client=ca-games-pub-1867306759919925&channel=7275602498&description_url="+encodeURI(f)+"&hl="+h,a.linearAdSlotWidth=r,a.linearAdSlotHeight=l,a.nonLinearAdSlotWidth=r,a.nonLinearAdSlotHeight=l,a.forceNonLinearFullSlot=!0,t.requestAds(a)}()}},mounted:function(){this.runAds()},head:function(){var e=this;return{script:[{src:"//imasdk.googleapis.com/js/sdkloader/ima3.js",callback:function(){e.imaLoaded=!0},body:!0,async:!0}]}}},r=(n(275),n(52)),component=Object(r.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"ima"}})}),[],!1,null,null,null);t.default=component.exports},338:function(e,t,n){var content=n(366);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(194).default)("4c2ad7e8",content,!0,{sourceMap:!1})},365:function(e,t,n){"use strict";n(338)},366:function(e,t,n){var o=n(193)(!1);o.push([e.i,'body{margin:0}#loader{font-family:"Segoe UI","Source Sans Pro",Calibri,Candara,Arial,sans-serif;background:#000;z-index:1;width:100%;height:100%;height:100vh;width:100vw;position:relative;overflow:hidden}#loader iframe{height:100vh;width:100vw;border:none;background:#000;z-index:8}.bot_fullscreen{height:25px;width:25px;position:absolute;bottom:0;right:0;cursor:pointer;padding:9px;z-index:999}.bot_fullscreen:hover{color:#000!important}.g-play-but{position:absolute;bottom:10px;left:10px;z-index:9}.g-play-but a{line-height:24px;display:inline-block;color:#fff}.g-play-but a:hover{text-decoration:none}.spinner_loader{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9999}@-webkit-keyframes ldio{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes ldio{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.ldio div{position:absolute;width:70px;height:70px;border:8px solid #fff;border-top-color:transparent;border-radius:50%;-webkit-animation:ldio .5555555555555556s linear infinite;animation:ldio .5555555555555556s linear infinite;top:50px;left:50px}.loadingio{width:50px;height:50px;display:inline-block;overflow:hidden;background:none}.ldio{width:100%;height:100%;position:relative;transform:translateZ(0) scale(.5);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:0 0}.ldio div{box-sizing:content-box}',""]),e.exports=o},421:function(e,t,n){"use strict";n.r(t);var o=n(7),r=(n(40),n(12),n(19),n(22),n(46),n(197),n(63),n(82),{components:{Unity:function(){return Promise.all([n.e(2),n.e(14)]).then(n.bind(null,448))},Retro:function(){return Promise.all([n.e(2),n.e(13)]).then(n.bind(null,447))},Iframe:function(){return n.e(11).then(n.bind(null,445))},Link:function(){return n.e(12).then(n.bind(null,446))},Flash:function(){return n.e(10).then(n.bind(null,444))},FlashWindow:function(){return n.e(8).then(n.bind(null,431))},AFG:n(281).default},validate:function(e){var t=e.route;return/^\/loader\/game\/[\d]{1,}.*\/$/gm.test(t.path)},layout:"iframe",computed:{fullscreen:function(){if(this.post.game.fields.unitywebglloaderurl&&!this.post.game.fields.unityprogress)return!0}},data:function(){return{post:{},isFramed:!1,more_g:!1,game_lock:!1,url:null,ref:null,showAds:!1,spinner:!0}},mounted:function(){this.checkFramed(),this.$device.isDesktop||this.$cookies.get("afg")?this.startGame():this.showAds=!0},methods:{startGame:function(){this.$store.dispatch("setGamestart")},isLoad:function(){this.spinner=!1},checkFramed:function(){try{this.isFramed=window!=window.top||document!=top.document||self.location!=top.location}catch(e){this.isFramed=!0}this.isFramed?(this.url=window.location!==window.parent.location?null!=location.ancestorOrigins?location.ancestorOrigins[0]:document.referrer:document.location.href,this.ref=this.url.match(/\/\/([^\/]+)/),null!=this.ref&&("igroutka.ru"==this.ref[1]||(this.ref[1].includes("igroutka.site")&&(this.game_lock=!0),this.more_g=!0))):this.more_g=!1},ToggleFullScreen:function(){var e=document.fullscreenElement&&null!==document.fullscreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement,element=document.body.getElementsByClassName("full_game")[0];if(!e)return(element.requestFullscreen||element.webkitRequestFullscreen||element.mozRequestFullScreen||element.msRequestFullscreen).call(element);document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o,r,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,o=e.params,r=e.error,t.prev=1,t.next=4,n.$get("loader/"+o.id+"/"+(o.page?"page/"+o.page+"/":""));case 4:return l=t.sent,t.abrupt("return",{post:l});case 8:t.prev=8,t.t0=t.catch(1),r({statusCode:404});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},head:function(){return{title:this.post.game.metatitle,meta:[{hid:"description",name:"description",content:this.post.game.descr},{name:"robots",content:"noindex, nofollow"}],link:[{rel:"canonical",href:"https://igroutka.ru"+this.post.game.url}]}}}),l=(n(365),n(52)),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"loader"}},[this.spinner?n("div",{staticClass:"spinner_loader"},[e._m(0)]):e._e(),e._v(" "),this.showAds?n("AFG",{on:{is_shown:function(t){return e.startGame()}}}):e._e(),e._v(" "),e.post.game.template_class?n("LazyFlashWindow"):e._e(),e._v(" "),this.fullscreen?n("div",{staticClass:"bot_fullscreen",staticStyle:{color:"#fff"},attrs:{title:"На весь экран"},on:{click:function(t){return e.ToggleFullScreen()}}},[n("svg-icon",{attrs:{name:"icons/fullscreen"}})],1):e._e(),e._v(" "),e.post.game.fields.iframegame?n("Iframe",{attrs:{post:e.post,framed:e.isFramed},on:{is_load:function(t){return e.isLoad()}}}):e.post.game.fields.unitywebglloaderurl?n("Unity",{attrs:{post:e.post},on:{is_load:function(t){return e.isLoad()}}}):e.post.game.emufile?n("Retro",{attrs:{post:e.post},on:{is_load:function(t){return e.isLoad()}}}):e.post.game.fields.flash||e.post.game.fields.object1?n("Flash",{attrs:{post:e.post},on:{is_load:function(t){return e.isLoad()}}}):e.post.game.fields.outgame?n("Link",{attrs:{post:e.post},on:{is_load:function(t){return e.isLoad()}}}):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:this.more_g,expression:"this.more_g"}],staticStyle:{position:"absolute",top:"0",right:"0","z-index":"1000"},attrs:{id:"more_g"}},[n("nuxt-link",{attrs:{to:"/?utm_source=game_loader",target:"_blank",title:"Игроутка - бесплатные онлайн игры"}},[n("img",{attrs:{src:"https://m.igroutka.ru/files/img/logo-mini.png",width:"180",height:"47",alt:"Игроутка - бесплатные онлайн игры"}})])],1),e._v(" "),n("nuxt-link",{directives:[{name:"show",rawName:"v-show",value:this.game_lock,expression:"this.game_lock"}],staticStyle:{display:"none",position:"absolute",top:"0",right:"0",left:"0",bottom:"0",width:"100%",height:"100%","z-index":"999"},attrs:{id:"game_lock",to:"/?utm_source=game_lock",target:"_blank"}}),e._v(" "),e.post.game.fields.dev_link?n("div",{staticClass:"g-play-but"},[n("a",{attrs:{href:e.post.game.fields.dev_link,target:"_blank",rel:"nofollow"}},[e._v("Все игры разработчика "+e._s(e.post.game.devs))])]):e._e()],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loadingio"},[t("div",{staticClass:"ldio"},[t("div")])])}],!1,null,null,null);t.default=component.exports;installComponents(component,{AFG:n(281).default})}}]);